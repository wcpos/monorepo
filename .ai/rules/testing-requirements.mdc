---
description: E2E locator rules for the monorepo
alwaysApply: true
---

# E2E Locator Rules (Playwright)

Tests must be **language-agnostic** — demo stores may run in any locale.

1. **Prefer `getByTestId`** — add `testID` props to components (maps to `data-testid` on web)
2. **Use structural locators** — `getByRole`, element counts, attribute selectors
3. **Avoid `getByText`** — breaks on translation/locale changes. Only acceptable for clicking dynamically-rendered list items (document why in a comment)
4. **Verify network, not text** — use `waitForResponse` for API assertions
5. **Anchor to testIDs** — use `toContainText` on testID-located elements
