---
description: Testing and linting requirements for the monorepo
alwaysApply: true
---

# Pre-Commit Requirements

Before committing changes, run linting and tests.

## Linting (ESLint + Prettier)

```bash
pnpm lint:fix
```

The project uses `@wcpos/eslint-config` with Prettier (tabs, single quotes, trailing commas), import ordering, and React Compiler rules.

## Unit Tests (Jest)

Add `*.test.ts` files colocated with the code for:
- Utility functions and helpers
- Business logic (tax calculations, order totals, etc.)
- Data transformations and hooks with complex logic

Run: `pnpm test` or `cd packages/<pkg> && npx jest <path>`

## E2E Tests (Playwright)

Add `*.spec.ts` files in `apps/main/e2e/` for:
- New user-facing features
- Critical user flows (auth, checkout, navigation)

## When to Skip Tests

- Purely cosmetic changes (CSS/styling only)
- Documentation or comments only
- User explicitly requests no tests
